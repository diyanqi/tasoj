{"title": "Guards In The Storehouse", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">F. Guards In The Storehouse</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>1.5 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>512 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Polycarp owns a shop in the capital of Berland. Recently the criminal activity in the capital increased, so Polycarp is thinking about establishing some better security in the storehouse of his shop.</p><p>The storehouse can be represented as a matrix with <span class=\"tex-span\"><i>n</i></span> rows and <span class=\"tex-span\"><i>m</i></span> columns. Each element of the matrix is either <span class=\"tex-font-style-tt\">.</span> (an empty space) or <span class=\"tex-font-style-tt\">x</span> (a wall).</p><p>Polycarp wants to hire some guards (possibly zero) to watch for the storehouse. Each guard will be in some cell of matrix and will protect every cell to the right of his own cell and every cell to the bottom of his own cell, until the nearest wall. More formally, if the guard is standing in the cell <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">0</sub>,<i>y</i><sub class=\"lower-index\">0</sub>)</span>, then he protects cell <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">1</sub>,<i>y</i><sub class=\"lower-index\">1</sub>)</span> if all these conditions are met:</p><ul> <li> <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">1</sub>,<i>y</i><sub class=\"lower-index\">1</sub>)</span> is an empty cell; </li><li> either <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\">0</sub>=<i>x</i><sub class=\"lower-index\">1</sub></span> and <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\">0</sub>&le;<i>y</i><sub class=\"lower-index\">1</sub></span>, or <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\">0</sub>&le;<i>x</i><sub class=\"lower-index\">1</sub></span> and <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\">0</sub>=<i>y</i><sub class=\"lower-index\">1</sub></span>; </li><li> there are no walls between cells <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">0</sub>,<i>y</i><sub class=\"lower-index\">0</sub>)</span> and <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">1</sub>,<i>y</i><sub class=\"lower-index\">1</sub>)</span>. <span class=\"tex-font-style-bf\">There can be a guard between these cells, guards can look through each other.</span> </li></ul><p>Guards can be placed only in empty cells (and can protect only empty cells). The <span class=\"tex-font-style-it\">plan</span> of placing the guards is some set of cells where guards will be placed (of course, two plans are different if there exists at least one cell that is included in the first plan, but not included in the second plan, or vice versa). Polycarp calls a plan <span class=\"tex-font-style-it\">suitable</span> if there is <span class=\"tex-font-style-bf\">not more than one</span> empty cell that is not protected.</p><p>Polycarp wants to know the number of suitable plans. Since it can be very large, you have to output it modulo <span class=\"tex-span\">10<sup class=\"upper-index\">9</sup>+7</span>.</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains two numbers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> &minus; the length and the width of the storehouse (<span class=\"tex-span\">1&le;<i>n</i>,<i>m</i>&le;250</span>, <span class=\"tex-span\">1&le;<i>nm</i>&le;250</span>).</p><p>Then <span class=\"tex-span\"><i>n</i></span> lines follow, <span class=\"tex-span\"><i>i</i></span>th line contains a string consisting of <span class=\"tex-span\"><i>m</i></span> characters &minus; <span class=\"tex-span\"><i>i</i></span>th row of the matrix representing the storehouse. Each character is either <span class=\"tex-font-style-tt\">.</span> or <span class=\"tex-font-style-tt\">x</span>.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Output the number of suitable plans modulo <span class=\"tex-span\">10<sup class=\"upper-index\">9</sup>+7</span>.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>1 3<br/>.x.<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>3<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>2 2<br/>xx<br/>xx<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>1<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>2 2<br/>..<br/>..<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>10<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>3 1<br/>x<br/>.<br/>x<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>2<br/></pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>In the first example you have to put at least one guard, so there are three possible arrangements: one guard in the cell <span class=\"tex-span\">(1,1)</span>, one guard in the cell <span class=\"tex-span\">(1,3)</span>, and two guards in both these cells.</p></div></div><p> </p></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 1500, "memory_limit": 512, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}