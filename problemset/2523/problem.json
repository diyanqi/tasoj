{"title": "Pig and Palindromes", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">E. Pig and Palindromes</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>4 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Peppa the Pig was walking and walked into the forest. What a strange coincidence! The forest has the shape of a rectangle, consisting of <span class=\"tex-span\"><i>n</i></span> rows and <span class=\"tex-span\"><i>m</i></span> columns. We enumerate the rows of the rectangle from top to bottom with numbers from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>, and the columns &minus; from left to right with numbers from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>m</i></span>. Let's denote the cell at the intersection of the <span class=\"tex-span\"><i>r</i></span>-th row and the <span class=\"tex-span\"><i>c</i></span>-th column as <span class=\"tex-span\">(<i>r</i>,<i>c</i>)</span>.</p><p>Initially the pig stands in cell <span class=\"tex-span\">(1,1)</span>, and in the end she wants to be in cell <span class=\"tex-span\">(<i>n</i>,<i>m</i>)</span>. Since the pig is in a hurry to get home, she can go from cell <span class=\"tex-span\">(<i>r</i>,<i>c</i>)</span>, only to either cell <span class=\"tex-span\">(<i>r</i>+1,<i>c</i>)</span> or <span class=\"tex-span\">(<i>r</i>,<i>c</i>+1)</span>. She cannot leave the forest.</p><p>The forest, where the pig is, is very unusual. Some cells of the forest similar to each other, and some look very different. Peppa enjoys taking pictures and at every step she takes a picture of the cell where she is now. The path through the forest is considered to be <span class=\"tex-font-style-it\">beautiful</span> if photographs taken on her way, can be viewed in both forward and in reverse order, showing the same sequence of photos. More formally, the line formed by the cells in order of visiting should be a <span class=\"tex-font-style-it\">palindrome</span> (you can read a formal definition of a palindrome in the previous problem).</p><p>Count the number of beautiful paths from cell <span class=\"tex-span\">(1,1)</span> to cell <span class=\"tex-span\">(<i>n</i>,<i>m</i>)</span>. Since this number can be very large, determine the remainder after dividing it by <span class=\"tex-span\">10<sup class=\"upper-index\">9</sup>+7</span>.</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains two integers <span class=\"tex-span\"><i>n</i>,<i>m</i></span> (<span class=\"tex-span\">1&le;<i>n</i>,<i>m</i>&le;500</span>) &minus; the height and width of the field.</p><p>Each of the following <span class=\"tex-span\"><i>n</i></span> lines contains <span class=\"tex-span\"><i>m</i></span> lowercase English letters identifying the types of cells of the forest. Identical cells are represented by identical letters, different cells are represented by different letters.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Print a single integer &minus; the number of beautiful paths modulo <span class=\"tex-span\">10<sup class=\"upper-index\">9</sup>+7</span>.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>3 4<br/>aaab<br/>baaa<br/>abba<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>3</pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>Picture illustrating possibilities for the sample test. </p><center> <img class=\"tex-graphics\" src=\"http://cf.hustoj.com:80/userfiles/image/81c66675f80c17883bd8acbaf7a73f0f6283973d24.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> <p><img class=\"tex-graphics\" src=\"http://cf.hustoj.com:80/userfiles/image/ca80a9a8fa35676e3f9eddab2b238068e10b69e724.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </p><p><img class=\"tex-graphics\" src=\"http://cf.hustoj.com:80/userfiles/image/edc2d847426a2d8cb7309a9cc68a80c73c42600724.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </p></center></div></div></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 4000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}