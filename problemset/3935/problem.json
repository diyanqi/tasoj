{"title": "Smart Beaver and Resolving Collisions", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">C3. Smart Beaver and Resolving Collisions</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>1 second</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>The Smart Beaver from ABBYY has a lot of hobbies. One of them is constructing efficient hash tables. One of the most serious problems in hash tables is resolving collisions. The Beaver is interested in this problem very much and he decided to explore it in detail.</p><p>We assume that the hash table consists of <span class=\"tex-span\"><i>h</i></span> cells numbered from <span class=\"tex-span\">0</span> to <span class=\"tex-span\"><i>h</i>-1</span>. Objects are added to and removed from it. Every object has its own unique identifier. In addition, every object has a corresponding hash value &minus; an integer between <span class=\"tex-span\">0</span> and <span class=\"tex-span\"><i>h</i>-1</span>, inclusive. When an object is added to the table, if the cell corresponding to the hash value of the object is free, then this object goes there. If the cell is already occupied by another object, there is a collision. When an object is deleted from the table, the cell which it occupied becomes empty.</p><p>The Smart Beaver has recently learned about the method of linear probing to resolve collisions. It is as follows. Let's say that the hash value for the added object equals <span class=\"tex-span\"><i>t</i></span> and cell <span class=\"tex-span\"><i>t</i></span> of the table is already occupied. Then we try to add this object to cell <span class=\"tex-span\">(<i>t</i>+<i>m</i>)<i>mod</i><i>h</i></span>. If it is also occupied, then we try cell <span class=\"tex-span\">(<i>t</i>+2&middot;<i>m</i>)<i>mod</i><i>h</i></span>, then cell <span class=\"tex-span\">(<i>t</i>+3&middot;<i>m</i>)<i>mod</i><i>h</i></span>, and so on. Note that in some cases it's possible that the new object can not be added to the table. <span class=\"tex-font-style-it\">It is guaranteed that the input for this problem doesn't contain such situations</span>.</p><p>The operation <span class=\"tex-span\"><i>a</i><i>mod</i><i>b</i></span> means that we take the remainder of the division of number <span class=\"tex-span\"><i>a</i></span> by number <span class=\"tex-span\"><i>b</i></span>.</p><p>This technique immediately seemed very inoptimal to the Beaver, and he decided to assess its inefficiency. So, you are given a sequence of operations, each of which is either an addition of an object to the table or a deletion of an object from the table. When adding a new object, a sequence of calls to the table is performed. Calls to occupied cells are called dummy. In other words, if the result of the algorithm described above is the object being added to cell <span class=\"tex-span\">(<i>t</i>+<i>i</i>&middot;<i>m</i>)<i>mod</i><i>h</i></span> <span class=\"tex-span\">(<i>i</i>&ge;0)</span>, then exactly <span class=\"tex-span\"><i>i</i></span> dummy calls have been performed.</p><p>Your task is to calculate the total number of dummy calls to the table for the given sequence of additions and deletions. When an object is deleted from the table, assume that no dummy calls are performed. The table is empty before performing the operations, that is, initially it doesn't contain any objects.</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line of input contains three integers <span class=\"tex-span\"><i>h</i></span>, <span class=\"tex-span\"><i>m</i></span> and <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">1&le;<i>m</i>&lt;<i>h</i></span>), separated by spaces, where <span class=\"tex-span\"><i>h</i></span> is the size of the hash table, <span class=\"tex-span\"><i>m</i></span> is the number that is used to resolve collisions, <span class=\"tex-span\"><i>n</i></span> is the number of operations.</p><p>The following <span class=\"tex-span\"><i>n</i></span> lines contains the descriptions of the operations. Their execution order corresponds to the order in which they appear in the input file. Each operation is described by a single line. The operations are described as follows:</p><ul> <li> \"<span class=\"tex-font-style-tt\">+ id hash</span>\"<p>This is the format of the operation that adds an object to the table. The first character is \"<span class=\"tex-font-style-tt\">+</span>\" (ASCII 43), followed by a single space, then the object identifier <span class=\"tex-span\"><i>id</i></span> <span class=\"tex-span\">(0&le;<i>id</i>&le;10<sup class=\"upper-index\">9</sup>)</span>, then another space, and the hash value of the given object <span class=\"tex-span\"><i>hash</i></span> <span class=\"tex-span\">(0&le;<i>hash</i>&lt;<i>h</i>)</span>. The object identifier and the hash value of this object are integers.</p></li><li> \"<span class=\"tex-font-style-tt\">- id</span>\"<p>This is the format of the operation that deletes an object from the table. The first character is \"<span class=\"tex-font-style-tt\">-</span>\" (ASCII 45), followed by a single space, then the object identifier <span class=\"tex-span\"><i>id</i></span> <span class=\"tex-span\">(0&le;<i>id</i>&le;10<sup class=\"upper-index\">9</sup>)</span>. The object identifier is an integer.</p></li></ul><p>It is guaranteed that for all addition operations the value of <span class=\"tex-span\"><i>id</i></span> is unique. It is also guaranteed that the initial data is correct, that is, it's always possible to add an object to the hash table and there won't be any deletions of nonexisting objects.</p><p>The input limitations for getting 20 points are: </p><ul> <li> <span class=\"tex-span\">1&le;<i>h</i>&le;5000</span> </li><li> <span class=\"tex-span\">1&le;<i>n</i>&le;5000</span> </li></ul><p>The input limitations for getting 50 points are: </p><ul> <li> <span class=\"tex-span\">1&le;<i>h</i>&le;5&middot;10<sup class=\"upper-index\">4</sup></span> </li><li> <span class=\"tex-span\">1&le;<i>n</i>&le;5&middot;10<sup class=\"upper-index\">4</sup></span> </li></ul><p>The input limitations for getting 100 points are: </p><ul> <li> <span class=\"tex-span\">1&le;<i>h</i>&le;2&middot;10<sup class=\"upper-index\">5</sup></span> </li><li> <span class=\"tex-span\">1&le;<i>n</i>&le;2&middot;10<sup class=\"upper-index\">5</sup></span> </li></ul></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Print a single number &minus; the total number of dummy calls to the hash table.</p><p>Please, do not use the <span class=\"tex-font-style-tt\">%lld</span> specifier to read or write 64-bit integers in C++. It is preferred to use <span class=\"tex-font-style-tt\">cin</span>, <span class=\"tex-font-style-tt\">cout</span> streams and the <span class=\"tex-font-style-tt\">%I64d</span> specifier.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>10 2 7<br/>+ 11 0<br/>+ 22 2<br/>+ 33 6<br/>+ 44 0<br/>+ 55 0<br/>- 22<br/>+ 66 0<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>7<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>5 1 6<br/>+ 123 0<br/>+ 234 1<br/>+ 345 2<br/>- 234<br/>+ 456 0<br/>+ 567 0<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>4<br/></pre></div></div></div></div></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 1000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}