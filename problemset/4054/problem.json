{"title": "Mission Impassable", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">D. Mission Impassable</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>3 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Market stalls now have the long-awaited game The Colder Scrools V: Nvodsk. The game turned out to be difficult as hell and most students can't complete the last quest (\"We don't go to Nvodsk...\"). That threatened winter exams. The rector already started to wonder whether he should postpone the winter exams till April (in fact, he wanted to complete the quest himself). But all of a sudden a stranger appeared at the door of his office. \"Good afternoon. My name is Chuck and I solve any problems\" &minus; he said.</p><p>And here they are sitting side by side but still they can't complete the mission. The thing is, to kill the final boss one should prove one's perfect skills in the art of managing letters. One should be a real magician to do that. And can you imagine what happens when magicians start competing... </p><p>But let's put it more formally: you are given a string and a set of integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span>. You are allowed to choose any substring that is a palindrome and delete it. At that we receive some number of points equal to <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>k</i></sub></span>, where <span class=\"tex-span\"><i>k</i></span> is the length of the deleted palindrome. For some <span class=\"tex-span\"><i>k</i></span>, <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>k</i></sub>=</span>-1, which means that deleting palindrome strings of such length is <span class=\"tex-font-style-bf\">forbidden</span>. After a substring is deleted, the remaining part \"shifts together\", that is, at no moment of time the string has gaps. The process is repeated while the string has at least one palindrome substring that can be deleted. All gained points are summed up.</p><p>Determine what maximum number of points can be earned.</p><p>\"Oh\" &minus; said Chuck, raising from the chair, &minus; \"I used to love deleting palindromes, just like you, but one day I took an arrow in the Knee\".</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains an integer <span class=\"tex-span\"><i>l</i></span> (<span class=\"tex-span\">1&le;<i>l</i>&le;150</span>) &minus; the length of the string.</p><p>The second line contains exactly <span class=\"tex-span\"><i>l</i></span> integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>k</i></sub></span> (<span class=\"tex-span\">-1&le;<i>a</i><sub class=\"lower-index\"><i>k</i></sub>&le;10<sup class=\"upper-index\">5</sup></span>) &minus; the points a player gains for deleting.</p><p>The third line contains exactly <span class=\"tex-span\"><i>l</i></span> lowercase Latin letters &minus; the original string from which a player can delete palindromes. The line contains no other characters apart from the newline character at the end of the string.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Print a single number &minus; the maximum number of points one can gain if he plays on the given string.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>7<br/>-1 -1 -1 -1 -1 -1 -1<br/>abacaba<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>0<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>7<br/>1 -1 -1 -1 -1 -1 -1<br/>abacaba<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>7<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>7<br/>1 5 -1 -1 -1 -1 10<br/>abacaba<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>16<br/></pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>In the first sample we cannot delete any substring, so the best result is <span class=\"tex-span\">0</span>. In the second sample we are allowed to delete only those palindromes whose length equals <span class=\"tex-span\">1</span>, thus, if we delete the whole string, we get <span class=\"tex-span\">7</span> points. In the third sample the optimal strategy is: first we delete character <span class=\"tex-font-style-tt\">c</span>, then string <span class=\"tex-font-style-tt\">aa</span>, then <span class=\"tex-font-style-tt\">bb</span>, and the last one <span class=\"tex-font-style-tt\">aa</span>. At that we get <span class=\"tex-span\">1+3*5=16</span> points.</p></div></div></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 3000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}