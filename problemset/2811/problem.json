{"title": "Ivan the Fool VS Gorynych the Dragon", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">E. Ivan the Fool VS Gorynych the Dragon</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>2 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Once upon a time in a kingdom far, far away&hellip; Okay, let&rsquo;s start at the point where Ivan the Fool met Gorynych the Dragon. Ivan took out his magic sword and the battle began. First Gorynych had <span class=\"tex-span\"><i>h</i></span> heads and <span class=\"tex-span\"><i>t</i></span> tails. With each strike of the sword Ivan can either cut off several heads (from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>, but not more than Gorynych has at the moment), or several tails (from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>m</i></span>, but not more than Gorynych has at the moment). At the same time, horrible though it seems, Gorynych the Dragon can also grow new heads and tails. And the number of growing heads and tails is determined uniquely by the number of heads or tails cut by the current strike. When the total number of heads and tails exceeds <span class=\"tex-span\"><i>R</i></span>, Gorynych the Dragon strikes its final blow and destroys Ivan the Fool. That&rsquo;s why Ivan aims to cut off all the dragon&rsquo;s heads and tails as quickly as possible and win. The events can also develop in a third way: neither of the opponents can win over the other one and they will continue fighting forever.</p><p>The tale goes like this; easy to say, hard to do. Your task is to write a program that will determine the battle&rsquo;s outcome. Consider that Ivan strikes consecutively. After each blow Gorynych grows a number of new heads and tails depending on the number of cut ones. Gorynych the Dragon is defeated if after the blow he loses all his heads and tails and can&rsquo;t grow new ones. Ivan fights in the optimal way (fools are lucky), i.e. </p><ul> <li> if Ivan can win, he wins having struck the least number of blows; </li><li> if it is impossible to defeat Gorynych, but is possible to resist him for an infinitely long period of time, then that&rsquo;s the strategy Ivan chooses; </li><li> if Gorynych wins in any case, Ivan aims to resist him for as long as possible. </li></ul></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains three integers <span class=\"tex-span\"><i>h</i></span>, <span class=\"tex-span\"><i>t</i></span> and <span class=\"tex-span\"><i>R</i></span> (<span class=\"tex-span\">0&le;<i>h</i>,<i>t</i>,<i>R</i>&le;200</span>, <span class=\"tex-span\">0&lt;<i>h</i>+<i>t</i>&le;<i>R</i></span>) which represent the initial numbers of Gorynych&rsquo;s heads and tails and the largest total number of heads and tails with which Gorynych the Dragon does not yet attack. The next line contains integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">1&le;<i>n</i>&le;200</span>). The next <span class=\"tex-span\"><i>n</i></span> contain pairs of non-negative numbers \"<span class=\"tex-span\"><i>h</i><sub class=\"lower-index\"><i>i</i></sub></span> <span class=\"tex-span\"><i>t</i><sub class=\"lower-index\"><i>i</i></sub></span>\" which represent the number of heads and the number of tails correspondingly, that will grow if Gorynych has <span class=\"tex-span\"><i>i</i></span> heads (<span class=\"tex-span\">1&le;<i>i</i>&le;<i>n</i></span>) cut. The next line contains an integer <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1&le;<i>m</i>&le;200</span>) and then &minus; the description of Gorynych&rsquo;s behavior when his tails are cut off in the format identical to the one described above. All the numbers in the input file do not exceed <span class=\"tex-span\">200</span>. </p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Print \"Ivan\" (without quotes) in the first line if Ivan wins, or \"Zmey\" (that means a dragon in Russian) if Gorynych the Dragon wins. In the second line print a single integer which represents the number of blows Ivan makes. If the battle will continue forever, print in the first line \"Draw\".</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>2 2 4<br>2<br>1 0<br/>0 1<br/>3<br/>0 1<br/>0 1<br/>0 0<br/></br></br></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>Ivan<br/>2<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>2 2 4<br/>1<br/>0 1<br/>1<br/>1 0<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>Draw<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>2 2 5<br/>1<br/>1 1<br/>1<br/>3 0<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>Zmey<br/>2<br/></pre></div></div></div></div></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 2000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}