{"title": "Vladik and chat", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">C. Vladik and chat</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>2 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Recently Vladik discovered a new entertainment&minus; coding bots for social networks. He would like to use machine learning in his bots so now he want to prepare some learning data for them.</p><p>At first, he need to download <span class=\"tex-span\"><i>t</i></span> chats. Vladik coded a script which should have downloaded the chats, however, something went wrong. In particular, some of the messages have no information of their sender. It is known that if a person sends several messages in a row, they all are merged into a single message. It means that <span class=\"tex-font-style-bf\">there could not be two or more messages in a row with the same sender</span>. Moreover, <span class=\"tex-font-style-bf\">a sender never mention himself in his messages</span>.</p><p>Vladik wants to recover senders of all the messages so that each two neighboring messages will have different senders and no sender will mention himself in his messages.</p><p>He has no idea of how to do this, and asks you for help. Help Vladik to recover senders in each of the chats!</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains single integer <span class=\"tex-span\"><i>t</i></span> (<span class=\"tex-span\">1&le;<i>t</i>&le;10</span>) &minus; the number of chats. The <span class=\"tex-span\"><i>t</i></span> chats follow. Each chat is given in the following format.</p><p>The first line of each chat description contains single integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">1&le;<i>n</i>&le;100</span>)&minus; the number of users in the chat.</p><p>The next line contains <span class=\"tex-span\"><i>n</i></span> space-separated distinct usernames. Each username consists of lowercase and uppercase English letters and digits. The usernames can't start with a digit. Two usernames are different even if they differ only with letters' case. The length of username is positive and doesn't exceed <span class=\"tex-span\">10</span> characters.</p><p>The next line contains single integer <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1&le;<i>m</i>&le;100</span>)&minus; the number of messages in the chat. The next <span class=\"tex-span\"><i>m</i></span> line contain the messages in the following formats, one per line: </p><ul> <li> <span class=\"tex-font-style-tt\">&lt;username&gt;:&lt;text&gt;</span>&minus; the format of a message with known sender. The username should appear in the list of usernames of the chat. </li><li> <span class=\"tex-font-style-tt\">&lt;?&gt;:&lt;text&gt;</span>&minus; the format of a message with unknown sender. </li></ul><p>The text of a message can consist of lowercase and uppercase English letter, digits, characters <span class=\"tex-font-style-tt\">'.'</span> (dot), <span class=\"tex-font-style-tt\">','</span> (comma), <span class=\"tex-font-style-tt\">'!'</span> (exclamation mark), <span class=\"tex-font-style-tt\">'?'</span> (question mark) and <span class=\"tex-font-style-tt\">' '</span> (space). The text doesn't contain trailing spaces. The length of the text is positive and doesn't exceed <span class=\"tex-span\">100</span> characters.</p><p>We say that a text mention a user if his username appears in the text as a word. In other words, the username appears in a such a position that the two characters before and after its appearance either do not exist or are not English letters or digits. For example, the text \"<span class=\"tex-font-style-tt\">Vasya, masha13 and Kate!</span>\" can mention users \"<span class=\"tex-font-style-tt\">Vasya</span>\", \"<span class=\"tex-font-style-tt\">masha13</span>\", \"<span class=\"tex-font-style-tt\">and</span>\" and \"<span class=\"tex-font-style-tt\">Kate</span>\", but not \"<span class=\"tex-font-style-tt\">masha</span>\".</p><p>It is guaranteed that in each chat <span class=\"tex-font-style-bf\">no known sender mention himself in his messages</span> and there are no two neighboring messages with the same known sender.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Print the information about the <span class=\"tex-span\"><i>t</i></span> chats in the following format:</p><p>If it is not possible to recover senders, print single line \"<span class=\"tex-font-style-tt\">Impossible</span>\" for this chat. Otherwise print <span class=\"tex-span\"><i>m</i></span> messages in the following format:</p><p><span class=\"tex-font-style-tt\">&lt;username&gt;:&lt;text&gt;</span></p><p>If there are multiple answers, print any of them.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>1<br/>2<br/>Vladik netman<br/>2<br/>?: Hello, Vladik!<br/>?: Hi<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>netman: Hello, Vladik!<br/>Vladik: Hi<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>1<br/>2<br/>netman vladik<br/>3<br/>netman:how are you?<br/>?:wrong message<br/>vladik:im fine<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>Impossible<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>2<br/>3<br/>netman vladik Fedosik<br/>2<br/>?: users are netman, vladik, Fedosik<br/>vladik: something wrong with this chat<br/>4<br/>netman tigerrrrr banany2001 klinchuh<br/>4<br/>?: tigerrrrr, banany2001, klinchuh, my favourite team ever, are you ready?<br/>klinchuh: yes, coach!<br/>?: yes, netman<br/>banany2001: yes of course.<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>Impossible<br/>netman: tigerrrrr, banany2001, klinchuh, my favourite team ever, are you ready?<br/>klinchuh: yes, coach!<br/>tigerrrrr: yes, netman<br/>banany2001: yes of course.<br/></pre></div></div></div></div><p> </p></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 2000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}