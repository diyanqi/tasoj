{"title": "Tree Folding", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">E. Tree Folding</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>2 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>512 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Vanya wants to minimize a tree. He can perform the following operation multiple times: choose a vertex <span class=\"tex-span\"><i>v</i></span>, and two disjoint (except for <span class=\"tex-span\"><i>v</i></span>) paths of equal length <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">0</sub>=<i>v</i></span>, <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub></span>, ..., <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>k</i></sub></span>, and <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\">0</sub>=<i>v</i></span>, <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\">1</sub></span>, ..., <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>k</i></sub></span>. Additionally, vertices <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub></span>, ..., <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>k</i></sub></span>, <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\">1</sub></span>, ..., <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>k</i></sub></span> must not have any neighbours in the tree other than adjacent vertices of corresponding paths. After that, one of the paths may be merged into the other, that is, the vertices <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\">1</sub></span>, ..., <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>k</i></sub></span> can be effectively erased:</p><center> <img class=\"tex-graphics\" src=\"http://cf.hustoj.com:80/userfiles/image/faf342095cfdb6f566d6fed24d5c0b2dbf924d4944.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>Help Vanya determine if it possible to make the tree into a path via a sequence of described operations, and if the answer is positive, also determine the shortest length of such path.</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line of input contains the number of vertices <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">2&le;<i>n</i>&le;2&middot;10<sup class=\"upper-index\">5</sup></span>).</p><p>Next <span class=\"tex-span\"><i>n</i>-1</span> lines describe edges of the tree. Each of these lines contains two space-separated integers <span class=\"tex-span\"><i>u</i></span> and <span class=\"tex-span\"><i>v</i></span> (<span class=\"tex-span\">1&le;<i>u</i>,<i>v</i>&le;<i>n</i></span>, <span class=\"tex-span\"><i>u</i>&ne;<i>v</i></span>)&minus; indices of endpoints of the corresponding edge. It is guaranteed that the given graph is a tree.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>If it is impossible to obtain a path, print <span class=\"tex-font-style-tt\">-1</span>. Otherwise, print the minimum number of edges in a possible path.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>6<br/>1 2<br/>2 3<br/>2 4<br/>4 5<br/>1 6<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>3<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>7<br/>1 2<br/>1 3<br/>3 4<br/>1 5<br/>5 6<br/>6 7<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>-1<br/></pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>In the first sample case, a path of three edges is obtained after merging paths <span class=\"tex-span\">2-1-6</span> and <span class=\"tex-span\">2-4-5</span>.</p><p>It is impossible to perform any operation in the second sample case. For example, it is impossible to merge paths <span class=\"tex-span\">1-3-4</span> and <span class=\"tex-span\">1-5-6</span>, since vertex 6 additionally has a neighbour 7 that is not present in the corresponding path.</p></div></div><p> </p></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 2000, "memory_limit": 512, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}