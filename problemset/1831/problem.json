{"title": "New Year and Snowy Grid", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">H. New Year and Snowy Grid</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>9 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p><span class=\"tex-font-style-bf\">Pay attention to the output section below, where you will see the information about flushing the output.</span></p><p>Bearland is a grid with <span class=\"tex-span\"><i>h</i></span> rows and <span class=\"tex-span\"><i>w</i></span> columns. Rows are numbered <span class=\"tex-span\">1</span> through <span class=\"tex-span\"><i>h</i></span> from top to bottom. Columns are numbered <span class=\"tex-span\">1</span> through <span class=\"tex-span\"><i>w</i></span> from left to right. Every cell is either allowed (denoted by '<span class=\"tex-font-style-tt\">.</span>' in the input) or permanently blocked (denoted by '<span class=\"tex-font-style-tt\">#</span>').</p><p>Bearland is a cold land, where heavy snow often makes travelling harder. Every day a few allowed cells are <span class=\"tex-font-style-bf\">temporarily</span> blocked by snow. Note, that this block works only on this particular day and next day any of these cells might be allowed again (unless there is another temporarily block).</p><p>It's possible to move directly between two cells only if they share a side and none of them is permanently or temporarily blocked.</p><p>Limak is a little polar bear who lives in Bearland. His house is at the top left cell, while his school is at the bottom right cell. Every day Limak should first go from his house to the school and then return back to his house. Since he gets bored easily, he doesn't want to <span class=\"tex-font-style-bf\">visit the same cell twice</span> on one day, except for the cell with his house, where he starts and ends. If Limak can reach a school and return home avoiding revisiting cells, he calls a day <span class=\"tex-font-style-it\">interesting</span>.</p><p>There are <span class=\"tex-span\"><i>q</i></span> days you must process, one after another. For each of these days you should check if it's interesting and print \"<span class=\"tex-font-style-tt\">YES</span>\" or \"<span class=\"tex-font-style-tt\">NO</span>\" on a separate line. In order to be able to read the description of the next day you should print the answer for the previous one and flush the output.</p><p>It's guaranteed that a day with no cells temporarily blocked by snow would be interesting. It's also guaranteed that cells with Limak's house and school are never blocked (neither permanently or temporarily).</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line of the input contains three integers <span class=\"tex-span\"><i>h</i></span>, <span class=\"tex-span\"><i>w</i></span> and <span class=\"tex-span\"><i>q</i></span> (<span class=\"tex-span\">2&le;<i>h</i>,<i>w</i>&le;1000</span>, <span class=\"tex-span\">1&le;<i>q</i>&le;10000</span>)&minus; the height and the width of the grid, and the number of days, respectively.</p><p>Next <span class=\"tex-span\"><i>h</i></span> lines describe which cells are allowed and which permanently blocked. The <span class=\"tex-span\"><i>i</i></span>-th line contains a string of length <span class=\"tex-span\"><i>w</i></span>, describing the <span class=\"tex-span\"><i>i</i></span>-th row. Every character is either '<span class=\"tex-font-style-tt\">.</span>' (denoting an allowed cell) or '<span class=\"tex-font-style-tt\">#</span>' (denoting a permanently blocked cell). It's guaranteed that a day with no cells temporarily blocked by snow would be interesting.</p><p>Then, the description of <span class=\"tex-span\"><i>q</i></span> days is given. The description of the <span class=\"tex-span\"><i>i</i></span>-th day starts with a line containing a single integer <span class=\"tex-span\"><i>k</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1&le;<i>k</i><sub class=\"lower-index\"><i>i</i></sub>&le;10</span>)&minus; the number of cells that are temporarily blocked by snow on that day. Each of next <span class=\"tex-span\"><i>k</i><sub class=\"lower-index\"><i>i</i></sub></span> lines contains two integers <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i>,<i>j</i></sub></span> and <span class=\"tex-span\"><i>c</i><sub class=\"lower-index\"><i>i</i>,<i>j</i></sub></span> (<span class=\"tex-span\">1&le;<i>r</i><sub class=\"lower-index\"><i>i</i>,<i>j</i></sub>&le;<i>h</i></span>, <span class=\"tex-span\">1&le;<i>c</i><sub class=\"lower-index\"><i>i</i>,<i>j</i></sub>&le;<i>w</i></span>), representing a cell at the intersection of the row <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i>,<i>j</i></sub></span> and the column <span class=\"tex-span\"><i>c</i><sub class=\"lower-index\"><i>i</i>,<i>j</i></sub></span>. The given <span class=\"tex-span\"><i>k</i><sub class=\"lower-index\"><i>i</i></sub></span> cells are distinct and none of them is permanently blocked. Also, none of them contains Limak's house or school.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>For each of <span class=\"tex-span\"><i>q</i></span> days print \"<span class=\"tex-font-style-tt\">YES</span>\" if that day is interesting, and otherwise print \"<span class=\"tex-font-style-tt\">NO</span>\", both without the quotes. After printing an answer, you have to both print the end-of-line character and <span class=\"tex-font-style-tt\">flush</span> the output. Then you can proceed to the next day. You can get <span class=\"tex-font-style-tt\">Idleness Limit Exceeded</span> if you don't print anything or if you forget to flush the output.</p><p>To flush you can use (just after printing a <span class=\"tex-font-style-tt\">YES/NO</span> and end-of-line): </p><ul> <li> <span class=\"tex-font-style-tt\">fflush(stdout)</span> in C++; </li><li> <span class=\"tex-font-style-tt\">System.out.flush()</span> in Java; </li><li> <span class=\"tex-font-style-tt\">stdout.flush()</span> in Python; </li><li> <span class=\"tex-font-style-tt\">flush(output)</span> in Pascal; </li><li> See the documentation for other languages. </li></ul></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>3 5 4<br/>.....<br/>.....<br/>.#...<br/>1<br/>1 4<br/>1<br/>1 5<br/>2<br/>2 4<br/>3 1<br/>2<br/>1 5<br/>3 3<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>NO<br/>YES<br/>YES<br/>NO<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>9 31 5<br/>...............................<br/>...............................<br/>.###.###.#.###...###.###.#.###.<br/>...#.#.#.#.#.......#.#.#.#...#.<br/>.###.#.#.#.###...###.#.#.#...#.<br/>.#...#.#.#.#.#...#...#.#.#...#.<br/>.###.###.#.###...###.###.#...#.<br/>...............................<br/>...............................<br/>5<br/>6 5<br/>2 11<br/>1 14<br/>8 15<br/>2 14<br/>5<br/>2 14<br/>1 14<br/>8 16<br/>6 5<br/>2 11<br/>3<br/>2 2<br/>1 4<br/>8 30<br/>10<br/>3 1<br/>3 11<br/>5 16<br/>7 21<br/>4 16<br/>3 5<br/>7 31<br/>3 9<br/>7 25<br/>3 27<br/>10<br/>3 1<br/>3 9<br/>7 25<br/>3 27<br/>7 21<br/>4 17<br/>3 5<br/>7 31<br/>4 16<br/>3 11<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>NO<br/>YES<br/>YES<br/>YES<br/>NO<br/></pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>In the first sample, there are <span class=\"tex-span\">4</span> days. Drawings below show how Limak could go to school and return to his home in the second and the third day (on the left and on the right respectively). A permanently blocked cell is painted red, while cells temporarily blocked by snow are painted orange. Black and green arrows should Limak's way to the school and back to the house respectively.</p><center> <img class=\"tex-graphics\" src=\"http://cf.hustoj.com:80/userfiles/image/da9e2d3aff48652137bfe1350dd1c1cc30c85acb4343.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>For the second sample, below you can see how the grid looks like on each day, where '<span class=\"tex-font-style-tt\">#</span>' denotes a cell that is blocked, either temporarily or permanently.</p><center> <img class=\"tex-graphics\" src=\"http://cf.hustoj.com:80/userfiles/image/c38baa0ccf4135c1c96d6d3c0faef0d078b31d664343.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center></div></div><p> </p></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 9000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}