{"title": "Tachibana Kanade's Tofu", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">E. Tachibana Kanade's Tofu</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>5 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>512 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Tachibana Kanade likes Mapo Tofu very much. One day, the canteen cooked all kinds of tofu to sell, but not all tofu is Mapo Tofu, only those spicy enough can be called Mapo Tofu.</p><p>Each piece of tofu in the canteen is given a <span class=\"tex-span\"><i>m</i></span>-based number, all numbers are in the range <span class=\"tex-span\">[<i>l</i>,<i>r</i>]</span> (<span class=\"tex-span\"><i>l</i></span> and <span class=\"tex-span\"><i>r</i></span> being <span class=\"tex-span\"><i>m</i></span>-based numbers), and for every <span class=\"tex-span\"><i>m</i></span>-based integer in the range <span class=\"tex-span\">[<i>l</i>,<i>r</i>]</span>, there exists a piece of tofu with that number.</p><p>To judge what tofu is Mapo Tofu, Tachibana Kanade chose <span class=\"tex-span\"><i>n</i></span> <span class=\"tex-span\"><i>m</i></span>-based number strings, and assigned a value to each string. If a string appears in the number of a tofu, the value of the string will be added to the value of that tofu. If a string appears multiple times, then the value is also added that many times. Initially the value of each tofu is zero.</p><p>Tachibana Kanade considers tofu with values no more than <span class=\"tex-span\"><i>k</i></span> to be Mapo Tofu. So now Tachibana Kanade wants to know, how many pieces of tofu are Mapo Tofu?</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains three integers <span class=\"tex-span\"><i>n</i></span>, <span class=\"tex-span\"><i>m</i></span> and <span class=\"tex-span\"><i>k</i>(1&le;<i>n</i>&le;200;2&le;<i>m</i>&le;20;1&le;<i>k</i>&le;500)</span>. Where <span class=\"tex-span\"><i>n</i></span> denotes the number of strings, <span class=\"tex-span\"><i>m</i></span> denotes the base used, and <span class=\"tex-span\"><i>k</i></span> denotes the limit of the value for Mapo Tofu.</p><p>The second line represents the number <span class=\"tex-span\"><i>l</i></span>. The first integer in the line is <span class=\"tex-span\"><i>len</i></span> <span class=\"tex-span\">(1&le;<i>len</i>&le;200)</span>, describing the length (number of digits in base <span class=\"tex-span\"><i>m</i></span>) of <span class=\"tex-span\"><i>l</i></span>. Then follow <span class=\"tex-span\"><i>len</i></span> integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>,<i>a</i><sub class=\"lower-index\">2</sub>,...,<i>a</i><sub class=\"lower-index\"><i>len</i></sub>(0&le;<i>a</i><sub class=\"lower-index\"><i>i</i></sub>&lt;<i>m</i>;<i>a</i><sub class=\"lower-index\">1</sub>&gt;0)</span> separated by spaces, representing the digits of <span class=\"tex-span\"><i>l</i></span>, with <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub></span> being the highest digit and <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>len</i></sub></span> being the lowest digit.</p><p>The third line represents the number <span class=\"tex-span\"><i>r</i></span> in the same format as <span class=\"tex-span\"><i>l</i></span>. It is guaranteed that <span class=\"tex-span\">1&le;<i>l</i>&le;<i>r</i></span>.</p><p>Then follow <span class=\"tex-span\"><i>n</i></span> lines, each line describing a number string. The <span class=\"tex-span\"><i>i</i></span>-th line contains the <span class=\"tex-span\"><i>i</i></span>-th number string and <span class=\"tex-span\"><i>v</i><sub class=\"lower-index\"><i>i</i></sub></span> &minus; the value of the <span class=\"tex-span\"><i>i</i></span>-th string (<span class=\"tex-span\">1&le;<i>v</i><sub class=\"lower-index\"><i>i</i></sub>&le;200</span>). All number strings are described in almost the same format as <span class=\"tex-span\"><i>l</i></span>, the only difference is number strings may contain necessary leading zeros (see the first example). The sum of the lengths of all number strings does not exceed <span class=\"tex-span\">200</span>.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Output the number of pieces of Mapo Tofu modulo <span class=\"tex-span\">1000000007</span> <span class=\"tex-span\">(10<sup class=\"upper-index\">9</sup>+7)</span>. The answer should be a decimal integer.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>2 10 1<br/>1 1<br/>3 1 0 0<br/>1 1 1<br/>1 0 1<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>97<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>2 10 12<br/>2 5 9<br/>6 6 3 5 4 9 7<br/>2 0 6 1<br/>3 6 7 2 1<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>635439<br/></pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>4 2 6<br/>6 1 0 1 1 1 0<br/>6 1 1 0 1 0 0<br/>1 1 2<br/>3 0 1 0 5<br/>4 0 1 1 0 4<br/>3 1 0 1 2<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>2<br/></pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>In the first sample, 10, 11 and 100 are the only three decimal numbers in <span class=\"tex-span\">[1,100]</span> with a value greater than 1. Here the value of 1 is 1 but not 2, since numbers cannot contain leading zeros and thus cannot be written as \"<span class=\"tex-font-style-tt\">01</span>\".</p><p>In the second sample, no numbers in the given interval have a value greater than 12.</p><p>In the third sample, 110000 and 110001 are the only two binary numbers in the given interval with a value no greater than 6.</p></div></div></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 5000, "memory_limit": 512, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}