{"title": "Ice cream coloring", "type": "problem", "description": {"format": "html", "value": "<div class=\"ttypography\"><div class=\"problem-statement\"><div class=\"header\" align=\"center\"><div class=\"title\" style=\"display:none\">C. Ice cream coloring</div><div class=\"time-limit\"><div class=\"property-title\">time limit per test</div>2 seconds</div><div class=\"memory-limit\"><div class=\"property-title\">memory limit per test</div>256 megabytes</div><div class=\"input-file\"><div class=\"property-title\">input</div>standard input</div><div class=\"output-file\"><div class=\"property-title\">output</div>standard output</div></div><div><p>Isart and Modsart were trying to solve an interesting problem when suddenly Kasra arrived. Breathless, he asked: \"Can you solve a problem I'm stuck at all day?\"</p><p>We have a tree <span class=\"tex-span\"><i>T</i></span> with <span class=\"tex-span\"><i>n</i></span> vertices and <span class=\"tex-span\"><i>m</i></span> types of ice cream numerated from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>m</i></span>. Each vertex <span class=\"tex-span\"><i>i</i></span> has a set of <span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub></span> types of ice cream. Vertices which have the <span class=\"tex-span\"><i>i</i></span>-th (<span class=\"tex-span\">1&le;<i>i</i>&le;<i>m</i></span>) type of ice cream form a connected subgraph. We build a new graph <span class=\"tex-span\"><i>G</i></span> with <span class=\"tex-span\"><i>m</i></span> vertices. We put an edge between the <span class=\"tex-span\"><i>v</i></span>-th and the <span class=\"tex-span\"><i>u</i></span>-th (<span class=\"tex-span\">1&le;<i>u</i>,<i>v</i>&le;<i>m</i></span>, <span class=\"tex-span\"><i>u</i>&ne;<i>v</i></span>) vertices in <span class=\"tex-span\"><i>G</i></span> if and only if there exists a vertex in <span class=\"tex-span\"><i>T</i></span> that has both the <span class=\"tex-span\"><i>v</i></span>-th and the <span class=\"tex-span\"><i>u</i></span>-th types of ice cream in its set. The problem is to paint the vertices of <span class=\"tex-span\"><i>G</i></span> with minimum possible number of colors in a way that no adjacent vertices have the same color.</p><p>Please note that we consider that empty set of vertices form a connected subgraph in this problem.</p><p>As usual, Modsart don't like to abandon the previous problem, so Isart wants you to solve the new problem.</p></div><div class=\"input-specification\"><div class=\"section-title\">Input</div><p>The first line contains two integer <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1&le;<i>n</i>,<i>m</i>&le;3&middot;10<sup class=\"upper-index\">5</sup></span>)&minus; the number of vertices in <span class=\"tex-span\"><i>T</i></span> and the number of ice cream types.</p><p><span class=\"tex-span\"><i>n</i></span> lines follow, the <span class=\"tex-span\"><i>i</i></span>-th of these lines contain single integer <span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">0&le;<i>s</i><sub class=\"lower-index\"><i>i</i></sub>&le;3&middot;10<sup class=\"upper-index\">5</sup></span>) and then <span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub></span> distinct integers, each between <span class=\"tex-span\">1</span> and <span class=\"tex-span\"><i>m</i></span>&minus; the types of ice cream in the <span class=\"tex-span\"><i>i</i></span>-th vertex. The sum of <span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub></span> doesn't exceed <span class=\"tex-span\">5&middot;10<sup class=\"upper-index\">5</sup></span>.</p><p><span class=\"tex-span\"><i>n</i>-1</span> lines follow. Each of these lines describes an edge of the tree with two integers <span class=\"tex-span\"><i>u</i></span> and <span class=\"tex-span\"><i>v</i></span> (<span class=\"tex-span\">1&le;<i>u</i>,<i>v</i>&le;<i>n</i></span>)&minus; the indexes of connected by this edge vertices.</p></div><div class=\"output-specification\"><div class=\"section-title\">Output</div><p>Print single integer <span class=\"tex-span\"><i>c</i></span> in the first line&minus; the minimum number of colors to paint the vertices in graph <span class=\"tex-span\"><i>G</i></span>.</p><p>In the second line print <span class=\"tex-span\"><i>m</i></span> integers, the <span class=\"tex-span\"><i>i</i></span>-th of which should be the color of the <span class=\"tex-span\"><i>i</i></span>-th vertex. The colors should be between <span class=\"tex-span\">1</span> and <span class=\"tex-span\"><i>c</i></span>. If there are some answers, print any of them.</p></div><div class=\"sample-tests\"><div class=\"section-title\">Examples</div><div class=\"sample-test\"><div class=\"input\"><div class=\"title\">Input</div><pre>3 3<br/>1 1<br/>2 2 3<br/>1 2<br/>1 2<br/>2 3<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>2<br/>1 1 2 </pre></div><div class=\"input\"><div class=\"title\">Input</div><pre>4 5<br/>0<br/>1 1<br/>1 3<br/>3 2 4 5<br/>2 1<br/>3 2<br/>4 3<br/></pre></div><div class=\"output\"><div class=\"title\">Output</div><pre>3<br/>1 1 1 2 3 </pre></div></div></div><div class=\"note\"><div class=\"section-title\">Note</div><p>In the first example the first type of ice cream is present in the first vertex only, so we can color it in any color. The second and the third ice cream are both presented in the second vertex, so we should paint them in different colors.</p><p>In the second example the colors of the second, the fourth and the fifth ice cream should obviously be distinct.</p></div></div><p> </p></div>\n"}, "tags": ["Codeforces"], "input_description": {"format": "html", "value": ""}, "output_description": {"format": "html", "value": ""}, "test_case_score": [{"score": 10, "input_name": "1.in", "output_name": "1.out"}, {"score": 10, "input_name": "2.in", "output_name": "2.out"}, {"score": 10, "input_name": "3.in", "output_name": "3.out"}, {"score": 10, "input_name": "4.in", "output_name": "4.out"}, {"score": 10, "input_name": "5.in", "output_name": "5.out"}, {"score": 10, "input_name": "6.in", "output_name": "6.out"}, {"score": 10, "input_name": "7.in", "output_name": "7.out"}, {"score": 10, "input_name": "8.in", "output_name": "8.out"}, {"score": 10, "input_name": "9.in", "output_name": "9.out"}], "hint": {"format": "html", "value": ""}, "time_limit": 2000, "memory_limit": 256, "samples": [{"input": "", "output": ""}], "template": {}, "spj": null, "rule_type": "OI", "source": "", "answers": [{"language": "Python3", "code": "print('Hello, world!')"}]}