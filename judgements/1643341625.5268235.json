{"status": "Partial Accepted", "problem_id": 1160, "language": "cpp", "username": "diyanqi@qq.com", "code": "#include<bits/stdc++.h>\r\nusing namespace std;\r\n#define mid ((l+r)>>1)\r\n#define lson rt<<1,l,mid\r\n#define rson rt<<1|1,mid+1,r//\u5b8f\u5b9a\u4e49\r\ninline void read(int &x){\r\n    char c=getchar();\r\n    int p=1;\r\n    x=0;\r\n    while(!isdigit(c)){\r\n        if(c=='-')p=-1;\r\n        c=getchar();\r\n    }\r\n    while(isdigit(c)){\r\n        x=(x<<1)+(x<<3)+(c^'0');\r\n        c=getchar();\r\n    }\r\n    x*=p;\r\n}//\u5feb\u8bfb\r\nconst int maxn=1000005;\r\nint minn[maxn<<2],tag[maxn<<2],n,m;//\u7ebf\u6bb5\u6811\u8ba1\u7b97\u533a\u95f4min\u503c,\u56e0\u4e3a\u8981\u533a\u95f4\u4fee\u6539\u6240\u4ee5\u9700\u8981\u4e00\u4e2atag\u6765\u6807\u8bb0\r\ninline int _min(int a,int b){\r\n    return a>b?b:a;\r\n}//\u624b\u5199min\u51fd\u6570\u5361\u5361\u5e38\r\ninline void push_up(int rt){\r\n    minn[rt]=_min(minn[rt<<1],minn[rt<<1|1]);\r\n}\r\ninline void build(int rt,int l,int r){\r\n    if(l==r)read(minn[rt]);\r\n    else{\r\n        build(lson);\r\n        build(rson);\r\n        push_up(rt);\r\n    }\r\n}//\u666e\u901a\u5efa\u6811\r\ninline void push_down(int rt){\r\n    minn[rt<<1]-=tag[rt];\r\n    minn[rt<<1|1]-=tag[rt];\r\n    tag[rt<<1]+=tag[rt];\r\n    tag[rt<<1|1]+=tag[rt];\r\n    tag[rt]=0;\r\n}\r\ninline void update(int rt,int l,int r,int L,int R,int num){\r\n    if(l>=L&&r<=R){\r\n        minn[rt]-=num;\r\n        tag[rt]+=num;\r\n    }\r\n    else{\r\n        if(tag[rt])push_down(rt);\r\n        if(L<=mid)update(lson,L,R,num);\r\n        if(R>mid)update(rson,L,R,num);\r\n        push_up(rt);\r\n    }\r\n}//\u533a\u95f4\u4fee\u6539min\u503c\r\nint main(){\r\n    //freopen(\".in\",\"r\",stdin);\r\n    //freopen(\".out\",\"w\",stdout);\r\n    read(n);read(m);\r\n    build(1,1,n);\r\n    for(register int i=1;i<=m;++i){\r\n        int d,s,j;\r\n        read(d);read(s);read(j);\r\n        update(1,1,n,s,j,d);//\u533a\u95f4\u4fee\u6539min\u503c\r\n        if(minn[1]<0){//\u5982\u679c\u5168\u90e8\u7684minn\u5c0f\u4e8e0\u5c31\u4e0d\u884c\u4e86\r\n            printf(\"-1\\n%d\\n\",i);\r\n            return 0;\r\n        }\r\n    }\r\n    puts(\"0\");\r\n    return 0;\r\n}", "msg": "", "testpoints": [{"testpoint": 1, "status": "Accepted", "msg": "", "time": 6301341, "memory": 4943872}, {"testpoint": 2, "status": "Accepted", "msg": "", "time": 1095052522, "memory": 11403264}, {"testpoint": 3, "status": "Accepted", "msg": "", "time": 63590311, "memory": 4943872}, {"testpoint": 4, "status": "Accepted", "msg": "", "time": 362057441, "memory": 4993024}, {"testpoint": 5, "status": "Accepted", "msg": "", "time": 472266576, "memory": 7290880}, {"testpoint": 6, "status": "Accepted", "msg": "", "time": 5330962, "memory": 4943872}, {"testpoint": 7, "status": "Accepted", "msg": "", "time": 24204634, "memory": 4943872}, {"testpoint": 8, "status": "Accepted", "msg": "", "time": 255123588, "memory": 5103616}, {"testpoint": 9, "status": "Accepted", "msg": "", "time": 29248414, "memory": 4943872}, {"testpoint": 10, "status": "Accepted", "msg": "", "time": 207950975, "memory": 5107712}, {"testpoint": 11, "status": "Accepted", "msg": "", "time": 7468829, "memory": 4952064}, {"testpoint": 12, "status": "Accepted", "msg": "", "time": 368526745, "memory": 5107712}, {"testpoint": 13, "status": "Time Limit Exceeded", "msg": "", "time": 1624563945, "memory": 10858496}, {"testpoint": 14, "status": "Accepted", "msg": "", "time": 14986861, "memory": 4952064}, {"testpoint": 15, "status": "Accepted", "msg": "", "time": 759179489, "memory": 11431936}, {"testpoint": 16, "status": "Accepted", "msg": "", "time": 242805000, "memory": 5107712}, {"testpoint": 17, "status": "Time Limit Exceeded", "msg": "", "time": 1605101982, "memory": 10960896}, {"testpoint": 18, "status": "Accepted", "msg": "", "time": 1060960120, "memory": 11288576}, {"testpoint": 19, "status": "Accepted", "msg": "", "time": 9175422, "memory": 4952064}, {"testpoint": 20, "status": "Accepted", "msg": "", "time": 5815254, "memory": 4952064}], "score": 180, "scorerate": "90%"}