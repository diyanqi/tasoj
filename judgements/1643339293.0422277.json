{"status": "Accepted", "problem_id": 1091, "language": "cpp", "username": "diyanqi@qq.com", "code": "#include<cstdio>\r\n#include<iostream>\r\n#include<cstring>\r\nusing namespace std;\r\nconst int Maxn=50010;\r\nint Dv1[Maxn],Dv2[Maxn];\r\n//\u5206\u522b\u8868\u793a\u4e0e1,2,...,n\u548cn,n-1,...,2,1\u7684\u5dee\u503c\r\nint vis[Maxn];\r\nint c[Maxn];//\u76ee\u6807\u94fe\r\nint l1[Maxn],l2[Maxn];\r\nint si=1,n,ans=0;\r\ninline int read()//\u8bfb\u5165\u4f18\u5316\r\n{\r\n    int fl=1,rt=0; char ch=getchar();\r\n    while(ch<'0'||ch>'9'){if(ch=='-') fl=-1; ch=getchar();}\r\n    while(ch>='0'&&ch<='9'){rt=rt*10+ch-'0'; ch=getchar();}\r\n    return fl*rt;\r\n}\r\nvoid Build()//\u5efa\u76ee\u6807\u94fe\r\n{\r\n\tc[1]=1; c[2]=l1[1]; vis[c[1]]=vis[c[2]]=1;\r\n\tfor(int i=2;i<=n-1;i++)\r\n\t{\r\n\t\tif(c[i-1]==l1[c[i]]) c[i+1]=l2[c[i]],vis[c[i+1]]=1;  \r\n\t\telse if(c[i-1]==l2[c[i]]) c[i+1]=l1[c[i]],vis[c[i+1]]=1;\r\n\t\telse \r\n\t\t{\r\n\t\t\tsi=0;\r\n\t\t\tprintf(\"-1\\n\"); return ;\r\n\t\t}\r\n\t}\r\n\tfor(int i=1;i<=n;i++) if(!vis[i]) si=0,printf(\"-1\\n\");\r\n    //\u524d\u9762\u6ca1\u5224\u65adc[n]\u540c\u5b66\u7684\u9700\u6c42\u662f\u5426\u6ee1\u8db3\uff0c\u8fd9\u91cc\u5224\u65ad\u4e00\u4e0b\u3002\r\n    if((c[1]==l1[c[n]]&&c[n-1]!=l2[c[n]])||(c[1]!=l1[c[n]]&&c[n-1]==l2[c[n]])) si=0,printf(\"-1\\n\");\r\n\telse if((c[1]==l2[c[n]]&&c[n-1]!=l1[c[n]])||(c[1]!=l2[c[n]]&&c[n-1]==l1[c[n]])) si=0,printf(\"-1\\n\");\r\n}\r\nvoid Simulation()//\u6c42\u7b54\u6848\r\n{\r\n\tfor(int i=1;i<=n;i++)\r\n\t{\r\n\t\tDv1[(c[i]-i+n)%n]++;\r\n\t\tDv2[(c[n-i+1]-i+n)%n]++;\r\n\t}\r\n\tfor(int i=0;i<=n-1;i++) ans=max(ans,max(Dv1[i],Dv2[i]));\r\n\tprintf(\"%d\\n\",n-ans);\r\n}\r\nvoid read_ini()\r\n{\r\n\tn=read();\r\n\tfor(int i=1;i<=n;i++) l1[i]=read(),l2[i]=read();\r\n\tBuild();\r\n\tif(si) Simulation();\r\n}\r\nint main()\r\n{\r\n\tread_ini();\r\n\treturn 0;\r\n}", "msg": "", "testpoints": [{"testpoint": 1, "status": "Accepted", "msg": "", "time": 5479721, "memory": 4866048}, {"testpoint": 2, "status": "Accepted", "msg": "", "time": 25556816, "memory": 4866048}, {"testpoint": 3, "status": "Accepted", "msg": "", "time": 24751060, "memory": 4866048}, {"testpoint": 4, "status": "Accepted", "msg": "", "time": 5343944, "memory": 4866048}, {"testpoint": 5, "status": "Accepted", "msg": "", "time": 32457736, "memory": 4866048}, {"testpoint": 6, "status": "Accepted", "msg": "", "time": 6165441, "memory": 4866048}, {"testpoint": 7, "status": "Accepted", "msg": "", "time": 31271795, "memory": 4866048}, {"testpoint": 8, "status": "Accepted", "msg": "", "time": 25949148, "memory": 4866048}, {"testpoint": 9, "status": "Accepted", "msg": "", "time": 20534630, "memory": 4866048}, {"testpoint": 10, "status": "Accepted", "msg": "", "time": 26748552, "memory": 4866048}], "score": 100, "scorerate": "100%"}