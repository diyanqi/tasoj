{"status": "Partial Accepted", "problem_id": 1160, "language": "cpp", "username": "diyanqi@qq.com", "code": "#include<bits/stdc++.h>\r\nusing namespace std;\r\n#define mid ((l+r)>>1)\r\n#define lson rt<<1,l,mid\r\n#define rson rt<<1|1,mid+1,r//\u5b8f\u5b9a\u4e49\r\ninline void read(int &x){\r\n    char c=getchar();\r\n    int p=1;\r\n    x=0;\r\n    while(!isdigit(c)){\r\n        if(c=='-')p=-1;\r\n        c=getchar();\r\n    }\r\n    while(isdigit(c)){\r\n        x=(x<<1)+(x<<3)+(c^'0');\r\n        c=getchar();\r\n    }\r\n    x*=p;\r\n}//\u5feb\u8bfb\r\nconst int maxn=1000005;\r\nint minn[maxn<<2],tag[maxn<<2],n,m;//\u7ebf\u6bb5\u6811\u8ba1\u7b97\u533a\u95f4min\u503c,\u56e0\u4e3a\u8981\u533a\u95f4\u4fee\u6539\u6240\u4ee5\u9700\u8981\u4e00\u4e2atag\u6765\u6807\u8bb0\r\ninline int _min(int a,int b){\r\n    return a>b?b:a;\r\n}//\u624b\u5199min\u51fd\u6570\u5361\u5361\u5e38\r\ninline void push_up(int rt){\r\n    minn[rt]=_min(minn[rt<<1],minn[rt<<1|1]);\r\n}\r\ninline void build(int rt,int l,int r){\r\n    if(l==r)read(minn[rt]);\r\n    else{\r\n        build(lson);\r\n        build(rson);\r\n        push_up(rt);\r\n    }\r\n}//\u666e\u901a\u5efa\u6811\r\ninline void push_down(int rt){\r\n    minn[rt<<1]-=tag[rt];\r\n    minn[rt<<1|1]-=tag[rt];\r\n    tag[rt<<1]+=tag[rt];\r\n    tag[rt<<1|1]+=tag[rt];\r\n    tag[rt]=0;\r\n}\r\ninline void update(int rt,int l,int r,int L,int R,int num){\r\n    if(l>=L&&r<=R){\r\n        minn[rt]-=num;\r\n        tag[rt]+=num;\r\n    }\r\n    else{\r\n        if(tag[rt])push_down(rt);\r\n        if(L<=mid)update(lson,L,R,num);\r\n        if(R>mid)update(rson,L,R,num);\r\n        push_up(rt);\r\n    }\r\n}//\u533a\u95f4\u4fee\u6539min\u503c\r\nint main(){\r\n    //freopen(\".in\",\"r\",stdin);\r\n    //freopen(\".out\",\"w\",stdout);\r\n    read(n);read(m);\r\n    build(1,1,n);\r\n    for(register int i=1;i<=m;++i){\r\n        int d,s,j;\r\n        read(d);read(s);read(j);\r\n        update(1,1,n,s,j,d);//\u533a\u95f4\u4fee\u6539min\u503c\r\n        if(minn[1]<0){//\u5982\u679c\u5168\u90e8\u7684minn\u5c0f\u4e8e0\u5c31\u4e0d\u884c\u4e86\r\n            printf(\"-1\\n%d\\n\",i);\r\n            return 0;\r\n        }\r\n    }\r\n    puts(\"0\");\r\n    return 0;\r\n}", "msg": "", "testpoints": [{"testpoint": 1, "status": "Accepted", "msg": "", "time": 5984583, "memory": 4935680}, {"testpoint": 2, "status": "Time Limit Exceeded", "msg": "", "time": 1054833902, "memory": 11395072}, {"testpoint": 3, "status": "Accepted", "msg": "", "time": 54430590, "memory": 4935680}, {"testpoint": 4, "status": "Accepted", "msg": "", "time": 391338004, "memory": 4993024}, {"testpoint": 5, "status": "Accepted", "msg": "", "time": 464064711, "memory": 7086080}, {"testpoint": 6, "status": "Accepted", "msg": "", "time": 5634661, "memory": 4935680}, {"testpoint": 7, "status": "Accepted", "msg": "", "time": 25028208, "memory": 4935680}, {"testpoint": 8, "status": "Accepted", "msg": "", "time": 260180400, "memory": 5115904}, {"testpoint": 9, "status": "Accepted", "msg": "", "time": 29428623, "memory": 4935680}, {"testpoint": 10, "status": "Accepted", "msg": "", "time": 194206380, "memory": 5029888}, {"testpoint": 11, "status": "Accepted", "msg": "", "time": 6790648, "memory": 4935680}, {"testpoint": 12, "status": "Accepted", "msg": "", "time": 383151411, "memory": 5210112}, {"testpoint": 13, "status": "Time Limit Exceeded", "msg": "", "time": 1103852038, "memory": 10850304}, {"testpoint": 14, "status": "Accepted", "msg": "", "time": 6702279, "memory": 4935680}, {"testpoint": 15, "status": "Accepted", "msg": "", "time": 759745555, "memory": 11501568}, {"testpoint": 16, "status": "Accepted", "msg": "", "time": 241100485, "memory": 5046272}, {"testpoint": 17, "status": "Time Limit Exceeded", "msg": "", "time": 1103065126, "memory": 10805248}, {"testpoint": 18, "status": "Time Limit Exceeded", "msg": "", "time": 1057301835, "memory": 11452416}, {"testpoint": 19, "status": "Accepted", "msg": "", "time": 5900602, "memory": 4943872}, {"testpoint": 20, "status": "Accepted", "msg": "", "time": 5255221, "memory": 4943872}], "score": 160, "scorerate": "80%"}