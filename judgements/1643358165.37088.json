{"status": "Wrong Answer", "problem_id": 1248, "language": "cpp", "username": "diyanqi@qq.com", "code": "#include<cstdio>\r\n#include<iostream>\r\n#include<cstring>\r\n#include<algorithm>\r\n#include<cmath>\r\n#include<vector>\r\n#include<queue>\r\n#include<map>\r\n#include<set>\r\n#include<ctime>\r\nusing namespace std;\r\ntypedef long long ll;\r\ntypedef pair<int,int>P;\r\nconst int INF=0x3f3f3f3f,maxn=100005;\r\nstruct node\r\n{\r\n    int u,v,w,id,dep;\r\n    bool operator<(const node&b)const\r\n    {\r\n        if(w!=b.w)return w<b.w;\r\n        return dep>b.dep;\r\n    }\r\n}edge[maxn];\r\nvector<int>g[maxn];\r\nint n,fa[maxn],num[maxn],dep[maxn],temp[maxn];\r\nll cnt[maxn];\r\nint find(int x)\r\n{\r\n    if(fa[x]==x)return x;\r\n    return fa[x]=find(fa[x]);\r\n}\r\nvoid unite(int x,int y)\r\n{\r\n    x=find(x),y=find(y);\r\n    if(x==y)return ;\r\n    fa[x]=y;\r\n    num[y]+=num[x];\r\n}\r\nint dfs(int u,int fa,int depp)\r\n{\r\n    dep[u]=depp;\r\n    for(int i=0;i<g[u].size();i++)\r\n    {\r\n        int v=g[u][i];\r\n        if(v==fa)continue;\r\n        dfs(v,u,depp+1);\r\n    }\r\n}\r\nint main()\r\n{\r\n    scanf(\"%d\",&n);\r\n    for(int i=1;i<=n;i++)fa[i]=i,num[i]=1;\r\n    for(int i=1;i<n;i++)\r\n    {\r\n        scanf(\"%d%d%d\",&edge[i].u,&edge[i].v,&edge[i].w);\r\n        g[edge[i].u].push_back(edge[i].v);\r\n        g[edge[i].v].push_back(edge[i].u);\r\n        edge[i].id=i;\r\n    }\r\n    dfs(1,0,0);\r\n    for(int i=1;i<n;i++)\r\n    {\r\n        if(dep[edge[i].u]<dep[edge[i].v])swap(edge[i].u,edge[i].v);\r\n        edge[i].dep=dep[edge[i].u];\r\n    }\r\n    sort(edge+1,edge+n);\r\n    for(int i=1;i<n;)\r\n    {\r\n        int j=i;\r\n        while(j<n&&edge[i].w==edge[j].w)\r\n        {\r\n            temp[j]=num[find(edge[j].u)];\r\n            unite(edge[j].u,edge[j].v);\r\n            j++;\r\n        }\r\n        while(i<j)\r\n        {\r\n            cnt[edge[i].id]=2ll*temp[i]*(num[find(edge[i].u)]-temp[i]);\r\n            i++;    \r\n        }\r\n    }\r\n    ll res=0;\r\n    vector<int>ans;\r\n    for(int i=1;i<n;i++)\r\n        if(cnt[i]==res)ans.push_back(i);\r\n        else if(cnt[i]>res)\r\n        {\r\n            res=cnt[i];\r\n            ans.clear();\r\n            ans.push_back(i);\r\n        }\r\n    printf(\"%I64d %d\\n\",res,ans.size());\r\n    for(int i=0;i<ans.size();i++)printf(\"%d%c\",ans[i],i==ans.size()-1?'\\n':' ');\r\n    return 0;\r\n}\r\n", "msg": "", "testpoints": [{"testpoint": 1, "status": "Wrong Answer", "msg": "", "time": 16402386, "memory": 5451776}, {"testpoint": 2, "status": "Wrong Answer", "msg": "", "time": 27609256, "memory": 5406720}, {"testpoint": 3, "status": "Wrong Answer", "msg": "", "time": 26200647, "memory": 5337088}, {"testpoint": 4, "status": "Wrong Answer", "msg": "", "time": 24542376, "memory": 5562368}, {"testpoint": 5, "status": "Wrong Answer", "msg": "", "time": 51171036, "memory": 5341184}, {"testpoint": 6, "status": "Wrong Answer", "msg": "", "time": 17080783, "memory": 5427200}, {"testpoint": 7, "status": "Wrong Answer", "msg": "", "time": 16589365, "memory": 5562368}, {"testpoint": 8, "status": "Wrong Answer", "msg": "", "time": 16100280, "memory": 5488640}, {"testpoint": 9, "status": "Wrong Answer", "msg": "", "time": 21291406, "memory": 5578752}], "score": 0, "scorerate": "0%"}