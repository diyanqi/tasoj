{"status": "Accepted", "problem_id": 1426, "language": "cpp", "username": "diyanqi@qq.com", "code": "#include<bits/stdc++.h>\r\nusing namespace std;\r\nconst int maxn = 52;\r\nint pa[maxn];\r\nint e1[maxn*maxn],e2[maxn*maxn];\r\nint d[maxn];\r\nvector<pair<int,int> > ans;\r\nint fi(int x)\r\n{\r\n    if(pa[x]==x)return x;\r\n    return pa[x]=fi(pa[x]);\r\n}\r\nvoid uni(int x,int y)\r\n{\r\n    int p1 = fi(x),p2 = fi(y);\r\n    if(p1==p2)return;\r\n    pa[p2]=p1;\r\n}\r\nint main()\r\n{\r\n    int n,m;\r\n    scanf(\"%d%d\",&n,&m);\r\n    for(int i=1;i<=n;i++)pa[i]=i;\r\n    for(int i=1;i<=m;i++)\r\n        scanf(\"%d%d\",&e1[i],&e2[i]);\r\n    for(int i=1;i<=m;i++)\r\n    {\r\n        uni(e1[i],e2[i]);\r\n        d[e1[i]]++,d[e2[i]]++;\r\n        if(d[e1[i]]>2||d[e2[i]]>2)return puts(\"NO\"),0;\r\n    }\r\n\r\n    for(int i=1;i<=n;i++)\r\n    {\r\n        for(int j=1;j<i;j++)\r\n        {\r\n            if(d[j]<=1&&d[i]<=1&&fi(i)!=fi(j))\r\n            {\r\n                ans.push_back(make_pair(j,i));\r\n                uni(i,j);\r\n                d[i]++,d[j]++;\r\n            }\r\n        }\r\n    }\r\n    for(int i=1;i<=n;i++)\r\n    {\r\n        if(d[i]==2)continue;\r\n        for(int j=1;j<i;j++)\r\n        {\r\n            if(d[j]==1)\r\n            {\r\n                ans.push_back(make_pair(j,i));\r\n                uni(i,j);\r\n                d[i]++,d[j]++;\r\n            }\r\n        }\r\n    }\r\n    for(int i=1;i<=n;i++)\r\n        if(d[i]==0)ans.push_back(make_pair(i,i));\r\n    int p = fi(1);\r\n    for(int i=1;i<=n;i++)\r\n        if(fi(i)!=p)return puts(\"NO\"),0;\r\n    puts(\"YES\");\r\n    sort(ans.begin(),ans.end());\r\n    cout<<ans.size()<<endl;\r\n    for(int i=0;i<ans.size();i++)\r\n        cout<<ans[i].first<<\" \"<<ans[i].second<<endl;\r\n}", "msg": "", "testpoints": [{"testpoint": 1, "status": "Accepted", "msg": "", "time": 5454563, "memory": 4890624}, {"testpoint": 2, "status": "Accepted", "msg": "", "time": 5537154, "memory": 4890624}, {"testpoint": 3, "status": "Accepted", "msg": "", "time": 5519284, "memory": 4890624}, {"testpoint": 4, "status": "Accepted", "msg": "", "time": 5841464, "memory": 4890624}, {"testpoint": 5, "status": "Accepted", "msg": "", "time": 5643319, "memory": 4890624}, {"testpoint": 6, "status": "Accepted", "msg": "", "time": 5555654, "memory": 4890624}, {"testpoint": 7, "status": "Accepted", "msg": "", "time": 5712022, "memory": 4890624}, {"testpoint": 8, "status": "Accepted", "msg": "", "time": 5726133, "memory": 4890624}, {"testpoint": 9, "status": "Accepted", "msg": "", "time": 5664226, "memory": 4890624}], "score": 90, "scorerate": "100%"}