{"status": "Partial Accepted", "problem_id": 1160, "language": "cpp", "username": "diyanqi@qq.com", "code": "#include<iostream>\r\n#include<cstring>\r\n#include<cstdio> \r\nusing namespace std;\r\nint n,m;\r\nint diff[1000011],need[1000011],rest[1000011],r[1000011],l[1000011],d[1000011];\r\nbool isok(int x)\r\n{\r\n    memset(diff,0,sizeof(diff));\r\n    for(int i=1;i<=x;i++)\r\n    {\r\n        diff[l[i]]+=d[i];\r\n        diff[r[i]+1]-=d[i]; \r\n    }\r\n    for(int i=1;i<=n;i++)\r\n    {\r\n        need[i]=need[i-1]+diff[i];\r\n        if(need[i]>rest[i])return 0;\r\n    }\r\n    return 1;\r\n} \r\nint main()\r\n{\r\n    \r\n    scanf(\"%d%d\",&n,&m);\r\n    for(int i=1;i<=n;i++)scanf(\"%d\",&rest[i]);\r\n    for(int i=1;i<=m;i++)scanf(\"%d%d%d\",&d[i],&l[i],&r[i]);\r\n    int begin=1,end=m; \r\n    if(isok(m)){cout<<\"0\";return 0;}\r\n    while(begin<end)\r\n    {\r\n        int mid=(begin+end)/2;\r\n        if(isok(mid))begin=mid+1;\r\n        else end=mid;\r\n    }\r\n    cout<<\"-1\"<<endl<<begin;\r\n}", "msg": "", "testpoints": [{"testpoint": 1, "status": "Accepted", "msg": "", "time": 27024953, "memory": 7065600}, {"testpoint": 2, "status": "Accepted", "msg": "", "time": 855241600, "memory": 13017088}, {"testpoint": 3, "status": "Accepted", "msg": "", "time": 130009733, "memory": 7946240}, {"testpoint": 4, "status": "Accepted", "msg": "", "time": 248308398, "memory": 8941568}, {"testpoint": 5, "status": "Accepted", "msg": "", "time": 452814965, "memory": 11100160}, {"testpoint": 6, "status": "Accepted", "msg": "", "time": 15549753, "memory": 6942720}, {"testpoint": 7, "status": "Accepted", "msg": "", "time": 45613421, "memory": 7622656}, {"testpoint": 8, "status": "Accepted", "msg": "", "time": 219795489, "memory": 8941568}, {"testpoint": 9, "status": "Accepted", "msg": "", "time": 54683992, "memory": 7782400}, {"testpoint": 10, "status": "Accepted", "msg": "", "time": 188470154, "memory": 9023488}, {"testpoint": 11, "status": "Accepted", "msg": "", "time": 26316576, "memory": 7028736}, {"testpoint": 12, "status": "Accepted", "msg": "", "time": 245421875, "memory": 9007104}, {"testpoint": 13, "status": "Time Limit Exceeded", "msg": "", "time": 1010140411, "memory": 16687104}, {"testpoint": 14, "status": "Accepted", "msg": "", "time": 26227781, "memory": 7069696}, {"testpoint": 15, "status": "Accepted", "msg": "", "time": 853635242, "memory": 14946304}, {"testpoint": 16, "status": "Accepted", "msg": "", "time": 184054728, "memory": 8626176}, {"testpoint": 17, "status": "Time Limit Exceeded", "msg": "", "time": 1009948065, "memory": 16744448}, {"testpoint": 18, "status": "Time Limit Exceeded", "msg": "", "time": 1004631815, "memory": 16662528}, {"testpoint": 19, "status": "Accepted", "msg": "", "time": 26482039, "memory": 6987776}, {"testpoint": 20, "status": "Accepted", "msg": "", "time": 17115435, "memory": 6938624}], "score": 170, "scorerate": "85%"}